<!---
Reader Repaired - Background Page

Background page for storing and retrieving extension settings.
-->

<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript">
            function onRequest(request, sender, sendResponse) {
                chrome.pageAction.show(sender.tab.id);
                if (request.method == "loadOptions") {
                    console.log("Retrieving user's options...");
                    console.log(localStorage.options);
                    sendResponse({options: localStorage.options});    
                } else if (request.method == "saveOptions") {
                    console.log("Storing user's options...");
                    console.log(request.options);
                    localStorage["options"] = request.options;
                }
            }
            
            chrome.extension.onRequest.addListener(onRequest);
        </script>
    </head>
</html>
